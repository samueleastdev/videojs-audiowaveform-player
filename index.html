<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>videojs-audiowaveform-player Demo</title>
    <link href="node_modules/video.js/dist/video-js.css" rel="stylesheet" />
    <link href="dist/videojs-audiowaveform-player.css" rel="stylesheet" />
  </head>
  <body>
    <video
      id="videojs-audiowaveform"
      class="video-js vjs-default-skin"
      controls
    ></video>
    <ul>
      <li><a href="/test/debug.html">Run unit tests in browser.</a></li>
      <li><a href="docs/api/">Read generated docs.</a></li>
      <li>
        <a href="#" id="vDash">Switch to M3U8 manifest.</a>
      </li>
      <li>
        <a href="#" id="vHls">Switch to MP4.</a>
      </li>
      <li>
        <a href="#" id="aHls">Switch to MP3 no json web api generated.</a>
      </li>
    </ul>
    <!--<div class="vjs-waveform"></div>-->
    <script src="node_modules/video.js/dist/video.js"></script>
    <script src="dist/videojs-audiowaveform-player.js"></script>
    <script>
      // Important must be included if you want to fallback to the Audio Web API

      var examplePlayer = videojs("videojs-audiowaveform", {
        inactivityTimeout: 0,
        plugins: {
          audiowaveformPlayer: {
            theme: "audio",
            barWidth: 1,
            barHeight: 1,
            brand: "rgba(75, 150, 242, 1)",
            posterWidth: 160,
            styles: {
              position: "absolute",
              height: "120px",
              bottom: "30px",
            },
          },
        },
      });

      // Set the player src object
      examplePlayer.src({
        poster:
          "https://d3370nekj200fx.cloudfront.net/2acd5699_8858_48fd_96c2_b87b5cc16442/master.jpg",
        src: "https://wptuts-deliver.s3.amazonaws.com/doctor_p___sweet_shop.mp3",
        type: "audio/mp3",
      });

      document.getElementById("vDash").addEventListener("click", (event) => {
        examplePlayer.src({
          poster:
            "https://d3370nekj200fx.cloudfront.net/2acd5699_8858_48fd_96c2_b87b5cc16442/master.jpg",
          src: "https://d3370nekj200fx.cloudfront.net/2acd5699_8858_48fd_96c2_b87b5cc16442/master.m3u8",
          type: "application/x-mpegURL",
          waveform:
            "https://d3370nekj200fx.cloudfront.net/2acd5699_8858_48fd_96c2_b87b5cc16442/master.json",
        });
        return false;
      });

      document.getElementById("vHls").addEventListener("click", (event) => {
        examplePlayer.src({
          poster:
            "https://d3370nekj200fx.cloudfront.net/2acd5699_8858_48fd_96c2_b87b5cc16442/master.jpg",
          src: "https://s3b-assets-bucket.s3.amazonaws.com/test-videos/ForBiggerBlazes.mp4",
          type: "video/mp4",
        });
        return false;
      });

      document.getElementById("aHls").addEventListener("click", (event) => {
        examplePlayer.src({
          poster:
            "https://d3370nekj200fx.cloudfront.net/2acd5699_8858_48fd_96c2_b87b5cc16442/master.jpg",
          src: "https://wptuts-deliver.s3.amazonaws.com/doctor_p___sweet_shop.mp3",
          type: "audio/mp3",
        });
        return false;
      });
    </script>
  </body>
</html>
